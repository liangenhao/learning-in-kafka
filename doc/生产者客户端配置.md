---
title: 生产者客户端配置
date: 2019-08-03
categories: learning-in-kafka
tags: [Kafka]
---

> 生产者客户端参数是通过`KafkaProducer`的`properties`指定。
>
> 参数的key值，可以从`ProducerConfig`获取。

## bootstrap.servers

> 第2章 生产者 2.1 客户端开发 P21

- 【作用】：用来指定生产者客户端连接 Kafka 集群所需的 broker 地址。

  - 可以设置多个，用逗号隔开。

- 【默认值】：""，**必填项。**

- 【注意】：**并非需要所有的 broker 地址**，因为生产者会从给定的 broker 里查找到其他 broker 信息。

  > 不过建议至少设置两个以上的 broker 地址信息。

## key.serializer & value.serializer

> 第2章 生产者 2.1 客户端开发 P21

- 【作用】：broker 端接受的消息必须以**字节数组**的形式存在。`KafkaProducer<String, String>`/`ProducerRecord<String, String>`中的泛型对应的就是消息中的 key 和 value 的类型。

  在发往broker之前，需要将消息中的 key 和 value 做相应的序列化转换成字节数组。

  `key.serializer` & `value.serializer`用来指定 key 和 value 的序列化器。

- 【默认值】：无默认值。

- 必须填写序列化器的全限定名。

## client.id

> 第2章 生产者 2.1 客户端开发 P22

- 【作用】：设定 `KafkaProducer`对应的客户端id。
- 【默认值】：""

- 如果客户端不设置，则`KafkaProducer`汇集自动生成一个非空字符串。如`producer-1`。

## retries

> 第2章 生产者 2.1.2 消息的发送 P25

- 【作用】：生产者发生了可重试异常，则根据`retries`配置的值进行重试，**只要在规定的重试次数内自行恢复，就不会抛出异常。**
- 【默认值】：0

